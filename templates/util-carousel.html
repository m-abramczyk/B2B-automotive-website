{% block util-carousel %}
{% load i18n %}

    {% if images|length > 1 %}

        {% if content_block.display_type == "wipe" %}

            <!-- Image Wipe display -->
            <div class="content-block-image">

                <div class="image-wiper">
                    <img src="{{ images.1.image.url }}">
                    <div class="wiper-left">
                        <img src="{{ images.0.image.url }}" data-image-caption="{{ images.0.caption }}" alt="{{ images.0.caption }}">
                    </div>
                    <div class="divider">
                        <div class="divider-line"></div>
                    </div>
                </div>

            </div>

            <div class="carousel-footer">

                {% if images.0.caption %}
                        <p class="text-18">{{ images.0.caption }}</p>
                {% endif %}
                
            </div>

        {% else %}
    
            <!-- Carousel Image display -->
            <div class="content-block-image carousel-slider">
                
                {% for image in images %}
                    <img src="{{ image.image.url }}" data-image-caption="{{ image.caption }}" alt="{{ image.caption }}">
                {% endfor %}

            </div>

            <div class="carousel-footer">
                <div>

                    <div class="carousel-counter text-18 tabular light-grey">
                        <div class="slide-index-container">
                        <!-- Slide indexes are dynamically added here -->
                        </div>
                        <p>/</p>
                        <!-- Slide number are dynamically updated here -->
                    </div>

                    <div class="slide-caption-container text-18">
                    <!-- Slide caption is dynamically updated here -->
                    </div>

                </div>

                <div class="carousel-nav">
                    
                    <button class="carousel-nav carousel-arrow-left">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 22" >
                            <path d="M18.0002 12.66L0.200195 21.34V18.14L15.0402 10.98L0.200195 3.82003V0.660034L18.0002 9.34003V12.66Z"/>
                        </svg>
                    </button>

                    <button class="carousel-nav carousel-arrow-right">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 22" >
                            <path d="M18.0002 12.66L0.200195 21.34V18.14L15.0402 10.98L0.200195 3.82003V0.660034L18.0002 9.34003V12.66Z"/>
                        </svg>
                    </button>

                </div>
            </div>

        {% endif %}

    {% else %}

        <!-- Single Image display -->
        <div class="content-block-image">

            {% for image in images %}
                <img src="{{ image.image.url }}" data-image-caption="{{ image.caption }}" alt="{{ image.caption }}">
            {% endfor %}

        </div>

        <div class="carousel-footer">

            {% if images.0.caption %}
                    <p class="text-18">{{ images.0.caption }}</p>
            {% endif %}
            
        </div>

    {% endif %}

{% endblock %}